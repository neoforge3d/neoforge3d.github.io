<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Catálogo</title>
  <meta name="description" content="Catálogo de productos impresos en 3D: figuras, accesorios, prototipos y más." />
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#ff6b6b;
      --muted:#94a3b8;
      --glass: rgba(255,255,255,0.03);
      --radius:12px;
      --maxwidth:1100px;
      --gap:18px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg,#071026 0%, #081226 50%, #03121a 100%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:28px;
      display:flex;
      justify-content:center;
    }

    .wrap{
      width:100%;
      max-width:var(--maxwidth);
    }

    header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:20px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .logo{
      width:56px;
      height:56px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),#ff9a76);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:#071426;
      box-shadow: 0 6px 20px rgba(255,107,107,0.12);
      flex-shrink:0;
    }
    h1{font-size:18px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .controls{
      margin-left:auto;
      display:flex;
      gap:12px;
      align-items:center;
    }

    .search{
      display:flex;
      align-items:center;
      gap:8px;
      background:var(--glass);
      padding:6px 10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.04);
    }
    .search input{
      background:transparent;border:0;color:inherit;outline:none;width:200px;
    }

    .btn{
      background:transparent;border:1px solid rgba(255,255,255,0.06);
      padding:8px 12px;border-radius:10px;color:var(--muted);cursor:pointer;font-size:14px;
    }
    .btn.primary{
      background:linear-gradient(90deg,var(--accent),#ff9a76);
      color:#071426;border:0;box-shadow:0 6px 18px rgba(255,107,107,0.12);
    }

    /* Layout */
    main{display:grid;grid-template-columns:260px 1fr;gap:var(--gap);align-items:start}
    @media (max-width:900px){
      main{grid-template-columns:1fr}
      .filters{order:2}
      .product-grid{order:1}
      .search input{width:120px}
    }

    /* Filters */
    .filters{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      padding:16px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.03);
      height:fit-content;
    }
    .filters h3{margin:0 0 12px 0;font-size:14px}
    .categories{display:flex;flex-direction:column;gap:8px}
    .chip{
      padding:8px 10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);
      color:var(--muted);cursor:pointer;text-align:left;font-size:13px;
    }
    .chip.active{
      background:rgba(255,107,107,0.12);
      color:var(--accent);
      border-color:rgba(255,107,107,0.12);
    }
    .select{
      width:100%;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)
    }

    /* Product grid */
    .product-grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
      gap:var(--gap);
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;padding:14px;border:1px solid rgba(255,255,255,0.03);
      display:flex;flex-direction:column;gap:12px;
      transition:transform .15s ease, box-shadow .15s ease;
    }
    .card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(2,6,23,0.6)}
    .thumb{
      height:150px;border-radius:10px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.03)
    }
    .title{font-weight:600;font-size:15px;margin:0}
    .meta{color:var(--muted);font-size:13px;margin-top:-6px}
    .price-row{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .price{font-weight:700;color:var(--accent)}
    .card .actions{display:flex;gap:8px}
    .small{font-size:13px;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted);cursor:pointer}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(3,6,16,0.6);display:none;align-items:center;justify-content:center;padding:20px;z-index:50}
    .modal{max-width:900px;width:100%;background:linear-gradient(180deg,#071226,#071425);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.04);display:grid;grid-template-columns:1fr 320px;gap:16px}
    @media (max-width:900px){ .modal{grid-template-columns:1fr} }
    .modal .big-img{height:360px;border-radius:10px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.04)}
    .modal h2{margin:0}
    .modal p{color:var(--muted)}
    .modal .order{display:flex;flex-direction:column;gap:10px}
    .qty{display:flex;align-items:center;gap:8px}
    .qty input{width:72px;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    .close{background:transparent;border:0;color:var(--muted);cursor:pointer;font-size:16px}

    footer{
      margin-top:20px;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);display:flex;justify-content:space-between;align-items:center;border:1px solid rgba(255,255,255,0.03)
    }

    /* utility */
    .muted{color:var(--muted)}
    a{color:inherit;text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap" role="application">
    <header>
      <div class="brand" aria-hidden="false">
        <div class="logo">•NF3•</div>
        <div>
          <h1>NeoForge3D</h1>
          <p class="lead">Servicio de impresiones 3D</p>
        </div>
      </div>

      <div class="controls" role="region" aria-label="Controles">
        <div class="search" title="Buscar productos">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-4.35-4.35" stroke="#9fb2c9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#9fb2c9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="search" placeholder="Buscar producto..." aria-label="Buscar producto" />
        </div>

       <select id="sort" class="select" aria-label="Ordenar">
          <option value="default">Orden: Recomendados</option>
          <option value="price-asc">Precio: menor a mayor</option>
          <option value="price-desc">Precio: mayor a menor</option>
        </select>

        <button class="btn primary" id="contactBtn">Contacto</button>
      </div>
    </header>

    <main>
      <aside class="filters" aria-labelledby="filtrosTitle">
        <h3 id="filtrosTitle">Filtros</h3>

        <div style="margin-bottom:12px">
          <label style="font-size:13px;color:var(--muted)">Categorías</label>
          <div class="categories" id="categoryList">
            <!-- Chips generadas por JS -->
          </div>
        </div>

        <div style="margin-top:10px">
          <label style="font-size:13px;color:var(--muted)">Material</label>
          <select id="material" class="select" aria-label="Filtrar por material">
            <option value="any">Cualquiera</option>
            <option value="PLA">PLA</option>
            <option value="ABS">ABS</option>
            <option value="PETG">PETG</option>
            <option value="TPU">TPU</option>
            <option value="Nylon-CF">Nylon-CF</option>
          </select>
        </div>

        <div style="margin-top:12px">
          <label style="font-size:13px;color:var(--muted)">Rango del precio</label>
          <div style="display:flex;gap:8px;margin-top:8px">
            <input id="minPrice" type="number" placeholder="Min" style="flex:1;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:inherit">
            <input id="maxPrice" type="number" placeholder="Max" style="flex:1;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:inherit">
          </div>
        </div>

        <div style="margin-top:12px;display:flex;gap:8px">
          <button id="applyFilters" class="btn small">Buscar</button>
          <button id="clearFilters" class="btn small">Borrar</button>
        </div>

      </aside>

      <section>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <div>
            <h2 style="margin:0">Productos</h2>
            <div class="muted" style="font-size:13px;margin-top:4px" id="resultsInfo">Mostrando productos</div>
          </div>
          <div class="muted" style="font-size:13px">Envíos por paquetería y opción de personalizacion disponibles</div>
        </div>

        <div class="product-grid" id="productGrid" role="list">
          <!-- Cards generadas por JS -->
        </div>
      </section>
    </main>

    <footer>
      <div>
        <strong>NeoForge3D</strong>
        <div class="muted" style="font-size:13px">Hecho a medida • Producción local TQXQC</div>
      </div>
      <div class="muted" style="font-size:13px">¿Tienes un diseño? Envíalo y cotizamos</div>
    </footer>
  </div>

  <!-- Modal detalle -->
  <div class="modal-backdrop" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <div>
        <div class="big-img" id="modalImg" style="background-image:url('https://via.placeholder.com/800x600')"></div>
        <div style="margin-top:10px;color:var(--muted);font-size:13px" id="modalDesc">Descripción</div>
      </div>

      <div class="order">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 id="modalTitle">Producto</h2>
          <button class="close" id="closeModal" aria-label="Cerrar">✕</button>
        </div>
        <div class="muted" id="modalCategory">Categoría</div>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-size:18px;font-weight:700;color:var(--accent)" id="modalPrice">$0.00</div>
          <div class="muted" id="modalMaterial">Material</div>
        </div>

        <div class="qty">
          <label style="min-width:48px" for="qty">Cantidad</label>
          <input id="qty" type="number" min="1" value="1" />
        </div>

        <div style="display:flex;gap:8px">
          <button id="addCart" class="btn primary">Pedir</button>
          <button id="quote" class="btn">Solicitar cotización</button>
        </div>

        <div style="margin-top:auto;color:var(--muted);font-size:13px">
          Para pedidos personalizados o grandes volúmenes, contáctanos al correo: ventas@impresiones3dmx.example
        </div>
      </div>
    </div>
  </div>

  <script>
    // Datos de ejemplo (reemplaza con tus imágenes y datos reales)
    const products = [
      {id:1,title:"Figura de Dragon 20cm",category:"Figuras",material:"PLA",price:420,desc:"Figura detallada impresa en PLA, acabado lijado y pintado opcional.",img:"https://via.placeholder.com/600x400?text=Dragon"},
      {id:2,title:"Soporte para Auriculares",category:"Accesorios",material:"PLA",price:120,desc:"Soporte compacto para auriculares con espacio para cable.",img:"https://via.placeholder.com/600x400?text=Soporte"},
      {id:3,title:"Pieza de Prototipo A1",category:"Prototipos",material:"PETG",price:650,desc:"Prototipo funcional impreso en PETG, resistente y dimensionalmente estable.",img:"https://via.placeholder.com/600x400?text=Prot+A1"},
      {id:4,title:"Llaveros Personalizados (pack 5)",category:"Accesorios",material:"Resina",price:180,desc:"Llaveros personalizados con nombre o logo (pack de 5).",img:"https://via.placeholder.com/600x400?text=Llaveros"},
      {id:5,title:"Soporte para Planta 3D",category:"Decoración",material:"PLA",price:300,desc:"Maceta/soporte impreso a medida para interiores.",img:"https://via.placeholder.com/600x400?text=Planta"},
      {id:6,title:"Miniatura de Vehículo 1:64",category:"Figuras",material:"Resina",price:220,desc:"Miniatura detallada para coleccionistas.",img:"https://via.placeholder.com/600x400?text=Miniatura"},
      {id:7,title:"Carcasa Personalizada para PCB",category:"Prototipos",material:"ABS",price:510,desc:"Carcasa diseñada e impresa para tu placa electrónica.",img:"https://via.placeholder.com/600x400?text=Carcasa"},
      {id:8,title:"Riel Modular - Conector",category:"Componentes",material:"PLA",price:90,desc:"Conector modular para ensamblar rieles y estructuras.",img:"https://via.placeholder.com/600x400?text=Conector"}
    ];

    const categorySet = ["Todos", ...Array.from(new Set(products.map(p=>p.category)))];
    // Referencias DOM
    const productGrid = document.getElementById('productGrid');
    const categoryList = document.getElementById('categoryList');
    const searchInput = document.getElementById('search');
    const sortSelect = document.getElementById('sort');
    const materialSelect = document.getElementById('material');
    const minPriceInput = document.getElementById('minPrice');
    const maxPriceInput = document.getElementById('maxPrice');
    const applyFiltersBtn = document.getElementById('applyFilters');
    const clearFiltersBtn = document.getElementById('clearFilters');
    const resultsInfo = document.getElementById('resultsInfo');

    // Modal refs
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalPrice = document.getElementById('modalPrice');
    const modalCategory = document.getElementById('modalCategory');
    const modalMaterial = document.getElementById('modalMaterial');
    const qtyInput = document.getElementById('qty');

    let activeCategory = "Todos";
    let filtered = [...products];

    // Generar chips de categoría
    function renderCategories(){
      categoryList.innerHTML = '';
      categorySet.forEach(cat=>{
        const btn = document.createElement('button');
        btn.className = 'chip' + (cat===activeCategory ? ' active' : '');
        btn.textContent = cat;
        btn.addEventListener('click',()=>{
          activeCategory = cat;
          document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
          btn.classList.add('active');
          applyFilters();
        });
        categoryList.appendChild(btn);
      });
    }

    // Render productos a la grid
    function renderProducts(list){
      productGrid.innerHTML = '';
      if(list.length === 0){
        productGrid.innerHTML = '<div class="muted">No se encontraron productos con los filtros seleccionados.</div>';
        resultsInfo.textContent = '0 productos';
        return;
      }
      resultsInfo.textContent = `Mostrando ${list.length} producto(s)`;
      list.forEach(p=>{
        const card = document.createElement('article');
        card.className = 'card';
        card.setAttribute('role','listitem');

        // Miniatura
        const thumb = document.createElement('div');
        thumb.className = 'thumb';
        thumb.style.backgroundImage = `url('${p.img}')`;
        card.appendChild(thumb);

        const title = document.createElement('h3');
        title.className = 'title';
        title.textContent = p.title;
        card.appendChild(title);

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.textContent = `${p.category} • ${p.material}`;
        card.appendChild(meta);

        const priceRow = document.createElement('div');
        priceRow.className = 'price-row';
        const price = document.createElement('div');
        price.className = 'price';
        price.textContent = `$${p.price.toFixed(2)}`;
        priceRow.appendChild(price);

        const actions = document.createElement('div');
        actions.className = 'actions';
        const viewBtn = document.createElement('button');
        viewBtn.className = 'small';
        viewBtn.textContent = 'Ver';
        viewBtn.addEventListener('click', ()=> openModal(p));
        const orderBtn = document.createElement('button');
        orderBtn.className = 'small';
        orderBtn.textContent = 'Pedir';
        orderBtn.addEventListener('click', ()=> openModal(p, true));
        actions.appendChild(viewBtn);
        actions.appendChild(orderBtn);

        priceRow.appendChild(actions);
        card.appendChild(priceRow);

        productGrid.appendChild(card);
      });
    }

    // Aplicar filtros y búsqueda
    function applyFilters(){
      const q = searchInput.value.trim().toLowerCase();
      const sortBy = sortSelect.value;
      const material = materialSelect.value;
      const minP = parseFloat(minPriceInput.value) || 0;
      const maxP = parseFloat(maxPriceInput.value) || Infinity;

      filtered = products.filter(p=>{
        if(activeCategory !== "Todos" && p.category !== activeCategory) return false;
        if(material !== 'any' && p.material !== material) return false;
        if(p.price < minP || p.price > maxP) return false;
        if(q && !(p.title.toLowerCase().includes(q) || p.category.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q))) return false;
        return true;
      });

      if(sortBy === 'price-asc') filtered.sort((a,b)=>a.price-b.price);
      else if(sortBy === 'price-desc') filtered.sort((a,b)=>b.price-a.price);

      renderProducts(filtered);
    }

    // Limpiar filtros
    function clearFilters(){
      activeCategory = "Todos";
      document.getElementById('material').value = 'any';
      document.getElementById('minPrice').value = '';
      document.getElementById('maxPrice').value = '';
      searchInput.value = '';
      sortSelect.value = 'default';
      renderCategories();
      applyFilters();
    }

    // Modal abrir
    function openModal(product, focusQty=false){
      modalImg.style.backgroundImage = `url('${product.img}')`;
      modalTitle.textContent = product.title;
      modalDesc.textContent = product.desc;
      modalPrice.textContent = `$${product.price.toFixed(2)}`;
      modalCategory.textContent = product.category;
      modalMaterial.textContent = product.material;
      qtyInput.value = 1;
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');

      // Si se abrió con "Pedir", enfocar cantidad
      if(focusQty) setTimeout(()=> qtyInput.focus(), 200);

      // Handler para pedir: abre mail con datos básicos (puede reemplazarse por tu backend)
      document.getElementById('addCart').onclick = ()=>{
        const qty = parseInt(qtyInput.value) || 1;
        const subject = encodeURIComponent(`Pedido: ${product.title} x${qty}`);
        const body = encodeURIComponent(`Hola,%0A%0ADeseo pedir:%0A- Producto: ${product.title}%0A- Cantidad: ${qty}%0A- Precio unitario: $${product.price.toFixed(2)}%0A%0AMis datos de contacto:%0A(Nombre, teléfono, dirección)...%0A%0AGracias.`);
        window.location.href = `mailto:ventas@impresiones3dmx.example?subject=${subject}&body=${body}`;
      };

      document.getElementById('quote').onclick = ()=>{
        const qty = parseInt(qtyInput.value) || 1;
        const subject = encodeURIComponent(`Cotización: ${product.title} x${qty}`);
        const body = encodeURIComponent(`Solicito cotización:%0A- Producto: ${product.title}%0A- Cantidad: ${qty}%0A%0AGracias.`);
        window.location.href = `mailto:ventas@impresiones3dmx.example?subject=${subject}&body=${body}`;
      };
    }

    // Cerrar modal
    document.getElementById('closeModal').addEventListener('click', ()=>{
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden','true');
    });
    // click fuera para cerrar
    modal.addEventListener('click', (e)=>{
      if(e.target === modal){
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden','true');
      }
    });

    // Eventos UI
    searchInput.addEventListener('input', ()=> applyFilters());
    sortSelect.addEventListener('change', ()=> applyFilters());
    applyFiltersBtn.addEventListener('click', ()=> applyFilters());
    clearFiltersBtn.addEventListener('click', ()=> clearFilters());

    // Contact button quick scroll to mailto
    document.getElementById('contactBtn').addEventListener('click', ()=> {
      window.location.href = 'mailto:ventas@impresiones3dmx.example?subject=Consulta%20de%20producto';
    });

    // Inicializar
    renderCategories();
    renderProducts(products);
  </script>
</body>
</html>


